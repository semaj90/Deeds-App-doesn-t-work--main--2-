import"../chunks/NZTpNUN0.js";import"../chunks/69_IOA4Y.js";import{o as ea}from"../chunks/CWcG5Nj1.js";import{p as ta,l as ra,e as sa,g as a,a as oa,$ as ia,s as o,c as s,b as u,m as y,r,t as A,u as d,d as da}from"../chunks/BYQKk6H6.js";import{s as p}from"../chunks/PiYpTS27.js";import{i as w}from"../chunks/CLMhaNbx.js";import{e as la,i as na}from"../chunks/Bxv1FR2S.js";import{f as n,a as l}from"../chunks/CM1-X8bE.js";import{h as va}from"../chunks/B3dOcNhk.js";import{r as ca,s as pa}from"../chunks/hvL4XB1e.js";import{b as ma}from"../chunks/BnnLbJ6E.js";import{i as fa}from"../chunks/DIVb6241.js";var ua=n('<div class="flex justify-center items-center py-12"><div class="loading loading-spinner loading-lg"></div> <span class="ml-4">Loading laws...</span></div>'),ha=n('<div class="alert alert-error"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),_a=n('<a href="/law/add" class="btn btn-primary">Add First Statute</a>'),ba=n('<div class="text-center py-12"><svg class="w-24 h-24 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <h3 class="text-xl font-semibold text-gray-600 mb-2">No laws found</h3> <p class="text-gray-500 mb-4"> </p> <!></div>'),ga=n('<div class="badge badge-outline"> </div>'),xa=n('<div class="card bg-base-100 shadow-xl"><div class="card-body"><h2 class="card-title"> <div class="badge badge-secondary"> </div></h2> <p class="text-sm opacity-70"> </p> <!> <div class="text-xs opacity-60 mt-2"> </div> <div class="card-actions justify-end"><a class="btn btn-primary btn-sm">View Full Text</a></div></div></div>'),ya=n('<div class="space-y-4"></div>'),wa=n('<div class="container mx-auto px-4 py-8"><div class="flex justify-between items-center mb-6"><h1 class="text-3xl font-bold">Law Database</h1> <a href="/law/add" class="btn btn-primary"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Add Statute</a></div> <div class="mb-6"><div class="form-control"><label class="label" for="search"><span class="label-text">Search laws and statutes</span></label> <input type="text" id="search" placeholder="Search by title, description, or code..." class="input input-bordered w-full"/></div></div> <!></div>');function za(W,$){ta($,!1);const k=y();let N=y([]),E=y(!0),L=y(null),i=y("");ea(async()=>{try{const t=await fetch("/api/statutes");t.ok?u(N,await t.json()):u(L,"Failed to load laws")}catch(t){u(L,"Error loading laws"),console.error("Error:",t)}finally{u(E,!1)}}),ra(()=>(a(N),a(i)),()=>{u(k,a(N).filter(t=>t.title?.toLowerCase().includes(a(i).toLowerCase())||t.description?.toLowerCase().includes(a(i).toLowerCase())||t.code?.toLowerCase().includes(a(i).toLowerCase())))}),sa(),fa();var D=wa();va(t=>{ia.title="Law Database - WardenNet"});var M=o(s(D),2),H=s(M),U=o(s(H),2);ca(U),r(H),r(M);var G=o(M,2);{var I=t=>{var B=ua();l(t,B)},J=(t,B)=>{{var K=m=>{var h=ha(),C=o(s(h),2),F=s(C,!0);r(C),r(h),A(()=>p(F,a(L))),l(m,h)},O=(m,h)=>{{var C=f=>{var v=ba(),_=o(s(v),4),e=s(_,!0);r(_);var b=o(_,2);{var j=c=>{var S=_a();l(c,S)};w(b,c=>{a(i)||c(j)})}r(v),A(()=>p(e,a(i)?"No laws match your search criteria":"Start building your legal database")),l(f,v)},F=f=>{var v=ya();la(v,5,()=>a(k),na,(_,e)=>{var b=xa(),j=s(b),c=s(j),S=s(c),q=o(S),P=s(q,!0);r(q),r(c);var V=o(c,2),R=s(V,!0);r(V);var Q=o(V,2);{var X=g=>{var x=ga(),aa=s(x,!0);r(x),A(()=>p(aa,(a(e),d(()=>a(e).category)))),l(g,x)};w(Q,g=>{a(e),d(()=>a(e).category)&&g(X)})}var z=o(Q,2),Y=s(z);r(z);var T=o(z,2),Z=s(T);r(T),r(j),r(b),A((g,x)=>{p(S,`${a(e),d(()=>a(e).title||"Untitled Law")??""} `),p(P,(a(e),d(()=>a(e).code||"No Code"))),p(R,g),p(Y,`Added: ${x??""}`),pa(Z,"href",`/law/${a(e),d(()=>a(e).id)??""}`)},[()=>(a(e),d(()=>a(e).description?a(e).description.length>200?a(e).description.substring(0,200)+"...":a(e).description:"No description available")),()=>(a(e),d(()=>a(e).createdAt?new Date(a(e).createdAt).toLocaleDateString():"Unknown"))],da),l(_,b)}),r(v),l(f,v)};w(m,f=>{a(k),d(()=>a(k).length===0)?f(C):f(F,!1)},h)}};w(t,m=>{a(L)?m(K):m(O,!1)},B)}};w(G,t=>{a(E)?t(I):t(J,!1)})}r(D),ma(U,()=>a(i),t=>u(i,t)),l(W,D),oa()}export{za as component};
